{"code":"!function(e){var t={};function r(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=0)}([function(e,t,r){\"use strict\";r.r(t);class n{constructor(e,t){this.city=e,this.country=t}async searchCity(){try{const e=await fetch(`https://cors-anywhere.herokuapp.com/api.openweathermap.org/data/2.5/find?q=${this.city},${this.country}&type=accurate&mode&APPID=5b8c5eeb25f857779b05b152522ed488`);this.similarCities=await e.json(),this.similarCities=this.similarCities.list}catch(e){console.log(e)}}async forecast(e){try{const t=await fetch(`https://cors-anywhere.herokuapp.com/api.openweathermap.org/data/2.5/forecast?id=${e}&APPID=5b8c5eeb25f857779b05b152522ed488`);return await t.json()}catch(e){console.log(e)}}}const s={searchForm:document.querySelector(\".search\"),cityInput:document.querySelector(\".search__city\"),countryInput:document.querySelector(\".search__country\"),sectionForecast:document.querySelector(\".forecast\"),heading:document.querySelector(\".header__heading--main\")},a=()=>({cityQuery:s.cityInput.value,countryQuery:s.countryInput.value}),c=e=>{return[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"][e]};c();const i=(e,t)=>{const r=`\\n    <div class=\"forecast__day forecast__day--1\">\\n            <div class=\"forecast__date\">${c(t)}</div>\\n            <figure class=\"forecast__condition\">\\n                    <img src=\"img/weather-icons/${e.weather[0].description.replace(\" \",\"-\")}.svg\" alt=\"weather-state\">\\n            </figure>\\n            <div class=\"forecast__temp\">${(e=>Math.round(e-273.15))(e.main.temp)}<span class=\"forecast__scale\">&#176;</span></div>\\n            <div class=\"forecast__details\">\\n                <img src=\"img/weather-icons/002-drop.svg\" alt=\"humidity\">\\n                <p class=\"forecast__humidity\">${e.main.humidity}</p>\\n                <img src=\"img/weather-icons/001-wind-1.svg\" alt=\"humidity\">\\n                <p class=\"forecast__wind\">${e.wind.speed}</p>\\n            </div>\\n    </div>\\n    `;s.sectionForecast.insertAdjacentHTML(\"beforeend\",r)},o={},u=async()=>{const e=a().cityQuery,t=a().countryQuery;if(e&&t){o.search=new n(e,t),await o.search.searchCity(),s.sectionForecast.firstChild&&(s.sectionForecast.innerHTML=\"\"),s.cityInput.value=\"\",s.countryInput.value=\"\",s.sectionForecast.insertAdjacentHTML(\"beforeend\",'\\n        <svg class=\"forecast__loader\">\\n            <use xlink:href=\"img/symbol-defs.svg#icon-spinner9\"></use>\\n        </svg>\\n    '),(e=>{s.heading.textContent=e})(e);const r=await o.search.forecast(o.search.similarCities[0].id);console.log(r.list),s.sectionForecast.innerHTML=\"\",(e=>{let t=(new Date).getDay();for(let r=0;r<=e.length-1;r+=8)i(e[r],t),++t>6&&(t=0)})(r.list),console.log(o.search.similarCities)}else alert(\"city or country is not indicated\")};s.searchForm.addEventListener(\"submit\",e=>{e.preventDefault(),u()})}]);","extractedComments":[]}